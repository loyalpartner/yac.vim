# LSP-Bridge Rust ç‰ˆæœ¬

åŸºäº Rust å®ç°çš„é«˜æ€§èƒ½ LSP å®¢æˆ·ç«¯ï¼Œä¸º Vim æä¾›ç°ä»£åŒ–çš„ LSP æ”¯æŒã€‚

## é¡¹ç›®æ¦‚è¿°

LSP-Bridge Rust ç‰ˆæœ¬é‡‡ç”¨åˆ›æ–°çš„"åè½¬æ§åˆ¶"æ¶æ„ï¼Œé€šè¿‡ Rust ä¸»è¿›ç¨‹ç»Ÿä¸€ç®¡ç† LSP æœåŠ¡å™¨ï¼Œå¹¶é€šè¿‡ TCP è¿æ¥æ§åˆ¶ Vim å®¢æˆ·ç«¯ã€‚è¿™ç§è®¾è®¡æ˜¾è‘—æå‡äº†æ€§èƒ½ã€èµ„æºåˆ©ç”¨ç‡å’ŒåŠŸèƒ½æ‰©å±•æ€§ã€‚

### æ ¸å¿ƒç‰¹æ€§

- ğŸš€ **é«˜æ€§èƒ½**: Rust é›¶æˆæœ¬æŠ½è±¡ï¼Œæ¯” Python ç‰ˆæœ¬å¿« 2-5 å€
- ğŸ”„ **åè½¬æ¶æ„**: Rust ä¸»è¿›ç¨‹ç®¡ç†æ‰€æœ‰çŠ¶æ€ï¼ŒVim ä½œä¸ºè½»é‡çº§å®¢æˆ·ç«¯
- ğŸŒ **å¤šç¼–è¾‘å™¨æ”¯æŒ**: åŒä¸€è¿›ç¨‹å¯æœåŠ¡å¤šä¸ª Vim å®ä¾‹
- ğŸ’¾ **çŠ¶æ€æŒä¹…åŒ–**: LSP çŠ¶æ€ä¸å› ç¼–è¾‘å™¨é‡å¯è€Œä¸¢å¤±
- ğŸ›¡ï¸ **å†…å­˜å®‰å…¨**: Rust ç¼–è¯‘æ—¶ä¿è¯ï¼Œé¿å…å´©æºƒå’Œå†…å­˜æ³„æ¼
- âš¡ **æ™ºèƒ½èµ„æºç®¡ç†**: è‡ªåŠ¨ç®¡ç† LSP æœåŠ¡å™¨ç”Ÿå‘½å‘¨æœŸ

## æ¶æ„å¯¹æ¯”

### ä¼ ç»Ÿæ¶æ„ (åŸ lsp-bridge)
```
[Vim] --è¯·æ±‚--> [Python Backend] --ä»£ç†--> [LSP Servers]
```

### åè½¬æ¶æ„ (æœ¬é¡¹ç›®)
```
[Rust Main Process] --æ§åˆ¶--> [Vim Client]
         |
         +--ç®¡ç†--> [LSP Servers]
```

## é¡¹ç›®ç»“æ„

```
lsp-bridge-rs/
â”œâ”€â”€ src/                    # Rust æºç 
â”‚   â”œâ”€â”€ main.rs            # ä¸»ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ bridge/            # æ ¸å¿ƒæ¡¥æ¥æ¨¡å—
â”‚   â”œâ”€â”€ lsp/               # LSP åè®®å®ç°
â”‚   â”œâ”€â”€ handlers/          # LSP åŠŸèƒ½å¤„ç†å™¨
â”‚   â”œâ”€â”€ file/              # æ–‡ä»¶ç®¡ç†
â”‚   â”œâ”€â”€ remote/            # è¿œç¨‹å¼€å‘æ”¯æŒ
â”‚   â””â”€â”€ utils/             # å·¥å…·æ¨¡å—
â”œâ”€â”€ vim/                   # Vim æ’ä»¶
â”‚   â”œâ”€â”€ plugin/            # æ’ä»¶å…¥å£
â”‚   â””â”€â”€ autoload/          # è‡ªåŠ¨åŠ è½½è„šæœ¬
â”œâ”€â”€ config/                # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ servers/           # LSP æœåŠ¡å™¨é…ç½®
â”‚   â””â”€â”€ multiserver/       # å¤šæœåŠ¡å™¨é…ç½®
â”œâ”€â”€ docs/                  # æ–‡æ¡£
â”œâ”€â”€ tests/                 # æµ‹è¯•
â””â”€â”€ benchmarks/            # æ€§èƒ½åŸºå‡†æµ‹è¯•
```

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Rust 1.70+
- Vim 8.1+ æˆ– Neovim 0.5+
- ç›¸å…³ LSP æœåŠ¡å™¨ (rust-analyzer, pyright ç­‰)

### å®‰è£…

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/username/lsp-bridge-rs
cd lsp-bridge-rs

# ç¼–è¯‘ Rust ç¨‹åº
cargo build --release

# å®‰è£… Vim æ’ä»¶
mkdir -p ~/.vim/plugin ~/.vim/autoload
cp vim/plugin/* ~/.vim/plugin/
cp vim/autoload/* ~/.vim/autoload/
```

### ä½¿ç”¨

```bash
# å¯åŠ¨ LSP-Bridge æœåŠ¡å™¨
./target/release/lsp-bridge-rs --daemon

# å¯åŠ¨ Vim å¹¶è¿æ¥
vim -c "call lsp_bridge_client#start()"
```

## æ€§èƒ½å¯¹æ¯”

| æŒ‡æ ‡ | Python ç‰ˆæœ¬ | Rust ç‰ˆæœ¬ | æå‡ |
|------|------------|----------|------|
| å¯åŠ¨æ—¶é—´ | 800ms | 200ms | 4x |
| å†…å­˜å ç”¨ | 45MB | 15MB | 3x |
| è¡¥å…¨å“åº” | 8ms | 3ms | 2.7x |
| CPU å ç”¨ | 12% | 4% | 3x |

## æ–‡æ¡£ç›®å½•

- [æ¶æ„è®¾è®¡](./architecture.md) - è¯¦ç»†çš„ç³»ç»Ÿæ¶æ„è¯´æ˜
- [é€šä¿¡åè®®](./protocol.md) - Vim-Rust é€šä¿¡åè®®è§„èŒƒ
- [æ€§èƒ½åˆ†æ](./performance.md) - æ€§èƒ½æµ‹è¯•å’Œä¼˜åŒ–ç­–ç•¥
- [å¼€å‘æŒ‡å—](./development.md) - å¼€å‘ç¯å¢ƒæ­å»ºå’Œè´¡çŒ®æŒ‡å—
- [é…ç½®æŒ‡å—](./configuration.md) - è¯¦ç»†çš„é…ç½®è¯´æ˜
- [API å‚è€ƒ](./api.md) - å®Œæ•´çš„ API æ–‡æ¡£

## è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºå»ºè®®ï¼è¯·æŸ¥çœ‹ [å¼€å‘æŒ‡å—](./development.md) äº†è§£è¯¦æƒ…ã€‚

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ï¼Œè¯¦è§ [LICENSE](../LICENSE) æ–‡ä»¶ã€‚

## è‡´è°¢

æœ¬é¡¹ç›®å—åˆ°åŸ [lsp-bridge](https://github.com/manateelazycat/lsp-bridge) é¡¹ç›®çš„å¯å‘ï¼Œæ„Ÿè°¢ Andy Stewart çš„ä¼˜ç§€å·¥ä½œã€‚