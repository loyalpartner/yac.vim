#!/bin/sh
# Pre-commit hook for yac.vim
# Ensures code quality by running Zig checks

set -e

echo "ğŸ” Running pre-commit checks..."

echo "  Checking Zig formatting..."
if ! zig fmt --check src/*.zig; then
    echo "âŒ Format check failed!"
    echo "   Run 'zig fmt src/*.zig' to fix formatting issues."
    exit 1
fi

echo "  Running Zig tests..."
if ! zig build test; then
    echo "âŒ Zig tests failed!"
    exit 1
fi

echo "âœ… All pre-commit checks passed!"
